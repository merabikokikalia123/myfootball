<div class="container mt-5">
  <h1 class="page-title text-center mb-4">üèÜ All Players</h1>

  <!-- Filters -->
  <div class="row g-3 mb-4 align-items-end">
    <div class="col-md-3">
      <select
        class="form-select"
        [(ngModel)]="sportFilter"
        (change)="applyFilter()"
      >
        <option value="">All Sports</option>
        <option value="Football">Football</option>
        <option value="Basketball">Basketball</option>
        <option value="Judo">Judo</option>
        <option value="MMA">MMA</option>
      </select>
    </div>

    <div class="col-md-3">
      <input
        type="number"
        class="form-control"
        placeholder="Age"
        [(ngModel)]="ageFilter"
        (input)="applyFilter()"
      />
    </div>

    <div class="col-md-3">
      <input
        type="text"
        class="form-control"
        placeholder="Search"
        [(ngModel)]="extraFilter"
        (input)="applyFilter()"
      />
    </div>

    <div class="col-md-3">
      <button class="btn btn-dark w-100" type="button" (click)="applyFilter()">
        üîç Filter
      </button>
    </div>
  </div>

  <!-- Players Grid -->
  <div class="row g-4">
    <div class="col-md-4" *ngFor="let player of filteredPlayers">
      <div class="card h-100">
        <img
          *ngIf="player.photoUrl"
          [src]="player.photoUrl"
          [alt]="player.name"
          class="card-img-top"
        />

        <div class="card-body">
          <h5 class="card-title">{{ player.name }}</h5>
          <p class="card-text">
            <strong>Age:</strong> {{ player.age }} <br />
            <strong>Sport:</strong>
            <span class="badge" [ngClass]="getSportBadge(player.sport)">{{
              player.sport
            }}</span>
            <br />

            <span *ngIf="player.position"
              ><strong>Position:</strong> {{ player.position }}</span
            ><br *ngIf="player.position" />

            <span *ngIf="player.height"
              ><strong>Height:</strong> {{ player.height }} cm</span
            ><br *ngIf="player.height" />

            <span *ngIf="player.country"
              ><strong>Country:</strong> {{ player.country }}</span
            ><br *ngIf="player.country" />

            <span *ngIf="player.weightCategory"
              ><strong>Weight:</strong> {{ player.weightCategory }}</span
            ><br *ngIf="player.weightCategory" />

            <span *ngIf="player.belt"
              ><strong>Belt:</strong> {{ player.belt }}</span
            ><br *ngIf="player.belt" />

            <span *ngIf="player.weightClass"
              ><strong>Class:</strong> {{ player.weightClass }}</span
            ><br *ngIf="player.weightClass" />

            <span *ngIf="player.record"
              ><strong>Record:</strong> {{ player.record }}</span
            >
          </p>

          <div *ngIf="player.videoUrl" class="player-video">
            <iframe
              [src]="safeUrl(player.videoUrl)"
              frameborder="0"
              allowfullscreen
              width="100%"
              height="200"
            ></iframe>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
